<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
<script>
var urls = '';
var openwindows = [];
function geturls() {
    var xmlhttp = new XMLHttpRequest();
    xmlhttp.onreadystatechange = function(){
        if(xmlhttp.status == 200 && xmlhttp.readyState == 4){
            urls = xmlhttp.responseText;
        }
    };
    xmlhttp.open("GET","https://raw.githubusercontent.com/shimeche/line1111/master/urls.txt",true);
    xmlhttp.send();
}
function openurls(size) {
    var lines = urls.split('\n');
    if (lines.length < size) {
        size = lines.length;
    }
    for(var i = 0; i < size; i++){
        if (lines[i] != '') {
            openwindows.push(window.open(lines[i]));
        }
    }
}
function closeurls() {
    openwindows.forEach((element, index) => {
        element.close();
        delete openwindows[index];
    });
}
window.onload = function () {
   geturls(); 
};
</script>
<body>
    <div class="container">
        <button type="button" class="btn btn-primary" onclick="openurls(50);">開50個</button>
        <button type="button" class="btn btn-primary" onclick="closeurls(50);">關閉已開啟的</button>
    </div>
</body>
